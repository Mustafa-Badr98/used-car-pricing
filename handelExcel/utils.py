model_deduction_percentage = {
    'Accent': 6, 'Astra': 7, 'Cerato': 7, 'Civic': 8, 'Corsa': 8,
    'Creta': 9, 'Eclipse Cross': 9, 'Elantra': 7, 'Ertiga': 8, 'Fiesta': 6,
    'Focus': 7, 'Fortuner': 8, 'Fusion': 7, 'Glanza': 7, 'Grand Cherokee': 8,
    'Grandland X': 8, 'Gulf': 6, 'H2': 9, 'Harrier': 7, 'Hilux': 6,
    'HR-V': 8, 'i10': 7, 'i20': 8, 'Ignis': 8, 'Impreza': 7, 'Innova': 6,
    'Jazz': 8, 'Kona': 10, 'Kwid': 7, 'Lancer': 8, 'Land Cruiser': 7,
    'Legacy': 6, 'Logan': 5, 'Malibu': 6, 'Mazda2': 7, 'Mazda3': 8,
    'Mazda6': 9, 'Mokka': 7, 'Montero Sport': 8, 'Mustang': 7, 'Navara': 9,
    'Nexo': 7, 'Niro': 9, 'Optima': 10, 'Outback': 8, 'Palisade': 9,
    'Passat': 6, 'Pilot': 7, 'Polo': 7, 'Prado': 8, 'Prelude': 7,
    'Q2': 9, 'Q3': 9, 'Q5': 7, 'Q7': 6, 'Q8': 7, 'Range Rover': 7,
    'Ranger': 8, 'Rav4': 5, 'Renegade': 6, 'Rio': 7, 'S60': 7, 'Santa Fe': 8,
    'Seltos': 8, 'Sonata': 9, 'Sorento': 9, 'Spark': 7, 'Sportage': 8,
    'Sprinter': 9, 'Stepway': 7, 'Stinger': 6, 'Swift': 9, 'T-Cross': 7,
    'T-Roc': 6, 'Talisman': 7, 'Taycan': 8, 'Tiggo 2': 7, 'Tiggo 3': 8,
    'Tiggo 4': 8, 'Tiggo 5': 8, 'Tiggo 7': 6, 'Tiguan': 9, 'Tiida': 7,
    'Touareg': 6, 'Traverse': 7, 'Tribute': 7, 'Tucson': 8, 'Tundra': 5,
    'Twingo': 6, 'Verna': 7, 'Venue': 7, 'Vitara': 8, 'Voyage': 8,
    'Wrangler': 9, 'X-Trail': 7, 'X3': 6, 'X4': 7, 'X5': 7, 'X6': 8,
    'XC40': 8, 'XC60': 6, 'XC90': 9, 'Xceed': 7, 'Xpander': 7,
    'XV': 7, 'Yaris': 8, 'ZS': 8, 'ZS EV': 9, 'Zafira': 9, 'ZS': 7,
    'ZS EV': 9, 'Zafira': 6, 'ZS': 7, 'ZS EV': 7,
    '3008': 8, 'Arona': 8, 'Ateca': 9, 'C-Crosser': 7, 'C-HR': 6,
    'C3': 7, 'C4 Cactus': 7, 'C4 SpaceTourer': 8, 'C5 Aircross': 8, 'Cayenne': 8,
    'Ceed': 7, 'Celica': 6, 'Civic Type R': 9, 'CLA': 7, 'Clarity': 9,
    'Colorado': 7, 'Compass': 6, 'Cooper': 7, 'Countryman': 8, 'Creta N Line': 7,
    'Crosstrek': 9, 'CX-3': 7, 'CX-30': 7, 'CX-5': 8, 'CX-9': 8, 'D-Max': 6,
    'Discovery': 7, 'Discovery Sport': 7, 'Doblo': 8, 'Duster': 8, 'Ecosport': 9,
    'Edge': 9, 'Elgrand': 7, 'Enclave': 10, 'Envision': 8, 'Equinox': 9,
    'Escape': 7, 'Expedition': 6, 'Explorer': 7, 'Express': 7, 'F-Pace': 8,
    'F-Type': 8, 'Fiesta ST': 6, 'Fit': 9, 'Fluence': 7, 'Focus ST': 6,
    'Forester': 7, 'Forte': 7, 'Forte5': 8, 'Fusion Hybrid': 8, 'G80': 8,
    'Genesis GV70': 6, 'Genesis GV80': 7, 'Giulia': 7, 'GLA': 8, 'GLB': 8,
    'GLC': 9, 'GLE': 9, 'GLS': 7, 'Grand Cherokee L': 6, 'Grand Vitara': 7,
    'Grand Voyager': 7, 'GranTurismo': 8, 'GS': 8, 'GV70': 7, 'GX': 6,
    'HRV': 7, 'HS': 8, 'Huanghai N3-Series': 7, 'Huanghai Landscape': 8, 'Huanghai N1-Series': 8,
    'Huanghai N2-Series': 8, 'Hybrid': 6, 'i3': 9, 'i4': 7, 'i8': 6,
    'Impreza WRX': 7, 'Ioniq 5': 7, 'Ioniq Hybrid': 8, 'Ioniq Plug-in Hybrid': 5, 'Ioniq Electric': 6,
    'Islander': 7, 'Jazz Hybrid': 7, 'Jetta': 8, 'Journey': 8, 'Juke': 8,
    'Karma GS-6': 7, 'Karma Revero GT': 6, 'Kizashi': 7, 'Kodiaq': 7, 'Kona Electric': 8,
    'Korando': 9, 'KUV100': 7, 'Kwid Climber': 6, 'Kwid Outsider': 7, 'L200': 7,
    'Lanos': 7, 'Levante': 8, 'LF-30': 8, 'Logan Stepway': 8, 'Lynk & Co 01': 7,
    'Macan': 6, 'Mach-E': 7, 'MacPherson': 7, 'Mazda5': 8, 'Mazda8': 9,
    'Mazdaspeed3': 7, 'Mazdaspeed6': 7, 'MDX': 8, 'Meriva': 4, 'Metrocargo': 5,
    'Miata': 7, 'Mirai': 8, 'MKZ': 8, 'Model 3': 8, 'Model S': 8,
    'Model X': 7, 'Model Y': 6, 'Mondeo': 9, 'Monte Carlo': 7, 'Morning': 8,
    'Mountaineer': 7, 'Murano': 6, 'Mustang GT': 7, 'MX-30': 7, 'MX-5 Miata': 8,
    'Nexo Blue': 9, 'Nexo White': 7, 'Nissan Van': 9, 'Note': 7, 'NV Cargo': 9,
    'NV Passenger': 10, 'NV200': 8, 'NX': 8, 'NX Sport': 9, 'Odyssey': 7,
    'Outlander': 6, 'Outlander PHEV': 7, 'Palisade Calligraphy': 7, 'Palisade SE': 8, 'Palisade SEL': 8,
    'Passenger Van': 8, 'Passenger Wagon': 8, 'Pathfinder': 6, 'Patrol': 7, 'Patriot': 7,
    'Phantom': 8, 'Picanto': 9, 'Polo GTI': 7, 'Prado VX': 6, 'Premier': 7,
    'Prestige': 7, 'Proace Verso': 8, 'ProMaster Cargo Van': 8, 'ProMaster City': 8, 'ProMaster Window Van': 7,
    'Q3 Sportback': 6, 'Q4 e-tron': 7, 'Q5 Sportback': 7, 'Q50': 8, 'Q60': 8,
    'Q70': 6, 'Quattroporte': 7, 'Quest': 7, 'QX50': 7, 'QX55': 8,
    'QX60': 8, 'QX80': 6, 'R1': 8, 'R2': 8, 'Range Rover Evoque': 8,
    'Range Rover Sport': 8, 'Range Rover Velar': 8, 'Rapid': 7, 'Rav4 Adventure': 6, 'RDX': 9,
    'Regal': 8, 'Renegade 4xe': 7, 'Renegade eTorque': 7, 'Rio 5-Door': 7, 'Rogue': 7,
    'Rolls Royce Cullinan': 7, 'Rolls Royce Dawn': 8, 'Rolls Royce Ghost': 8, 'Rolls Royce Phantom': 8, 'Rolls Royce Wraith': 7,
    'RX': 8, 'S-Cross': 8, 'Safari': 9, 'Santa Fe Hybrid': 9, 'Santa Fe PHEV': 9,
    'Savvy': 7, 'S-Class': 6, 'Scalade': 7, 'Seltos X-Line': 7, 'Seltos X-Line S': 8,
    'Sentra': 9, 'Serenity': 9, 'Sienna': 7, 'Sierra': 6, 'Sonata Hybrid': 7,
    'Sonata N Line': 7, 'Sonata Plug-in Hybrid': 8, 'Soul EV': 7, 'Sportage X-Line': 7, 'Sportage X-Line S': 7,
    'Sportage X-Line SE': 8, 'Sportage X-Line SEL': 8, 'Sportage X-Line SX Turbo': 8, 'Sportage X-Line SX Turbo S': 7, 'Sportage X-Line SX Turbo SE': 6,
    'Sprinter Cab Chassis': 7, 'Sprinter Cargo Van': 7, 'Sprinter Crew Van': 8, 'Sprinter Passenger Van': 8, 'Sprinter Worker Cargo Van': 9,
    'Sprinter Worker Passenger Van': 7, 'Strada': 6, 'Streamliner': 9, 'Styler': 7, 'Super Duty': 9,
    'Swift Sport': 8, 'SX4': 8, 'Tacoma': 7, 'Tahoe': 6, 'Taurus': 7,
    'Taycan 4 Cross Turismo': 7, 'Taycan 4S Cross Turismo': 8, 'Taycan 4S Sedan': 8, 'Taycan 4S Sport Turismo': 8, 'Taycan GTS Cross Turismo': 7,
    'Taycan GTS Sedan': 8, 'Taycan GTS Sport Turismo': 8, 'Taycan Turbo Cross Turismo': 8, 'Taycan Turbo S Cross Turismo': 6, 'Taycan Turbo S Sedan': 7,
    'Taycan Turbo S Sport Turismo': 7, 'Territory': 8, 'Tiguan R-Line Black': 7, 'Tiguan R-Line Black Style': 6, 'Tiguan SE': 7,
    'Tiguan SE R-Line Black': 8, 'Tiguan SE R-Line Black Style': 8, 'Tiguan SEL': 8, 'Tiguan SEL R-Line Black': 9, 'Tiguan SEL R-Line Black Style': 7,
    'Titan': 6, 'TLX': 9, 'Town & Country': 7, 'Trailblazer': 8, 'Trax': 9,
    'Tribute DX': 9, 'Tribute ES': 7, 'Tribute LX': 9, 'Tribute LX V6': 9, 'Tribute V6': 8,
    'Tucson N Line': 8, 'Tundra SR': 8, 'V90': 7, 'V90 Cross Country': 6, 'V-Class': 7,
    'Vitara GLX': 7, 'Vitara GLX PLUS': 8, 'Vitara RT-X': 8, 'Vitara Turbo': 8, 'Voyager': 8,
    'Wigo': 7, 'Wrangler 4xe': 6, 'Wrangler Rubicon': 7, 'WRX STI': 7, 'X1': 8,
    'X2': 8, 'X3 M': 8, 'X3 M Competition': 7, 'X3 M40i': 6, 'X4 M': 7,
    'X4 M Competition': 7, 'X5 M': 8, 'X5 M Competition': 8, 'X6 M': 8, 'X6 M Competition': 7,
    'XC60 Recharge': 6, 'XC90 Recharge': 7, 'XF': 7, 'XJ': 7, 'XV e-Boxer': 8,
    'Yaris Cross Adventure': 8, 'Yaris Cross Design': 6, 'Yaris Cross Icon': 7, 'Yaris Cross Launch Edition': 7, 'Yaris Cross Sport': 8,
    'Yaris Cross Trend': 8, 'Zafira Life': 6, 'Zafira-e Life': 7, 'Zafira-e Life L': 7, 'Zafira-e Life M': 8, 'Zafira-e Life S': 8,
    'Zafira-e Life XL': 8, 'Zafira Life': 7, 'ZS Essence': 6, 'ZS Excite': 7, 'ZS Excite Plus': 7,
    'ZS Essence': 8, 'ZS Essence Plus': 8, 'ZS Essence Plus ADAS': 8, 'ZS Excite': 7, 'ZS Excite ADAS': 9,
    'ZS Excite Plus': 7, 'ZS Excite Plus ADAS': 7, 'ZS Essence': 8, 'ZS Essence ADAS': 9, 'ZS Essence Plus': 7,
    'ZS Essence Plus ADAS': 6, 'ZS Excite': 8, 'ZS Excite ADAS': 8, 'ZS Excite Plus': 7, 'ZS Excite Plus ADAS': 9,
    'ZS Essence': 7, 'ZS Essence ADAS': 6, 'ZS Essence Plus': 8, 'ZS Essence Plus ADAS': 7, 'Zafira Life': 7,
    'Zafira-e Life': 7, 'Zafira-e Life L': 6, 'Zafira-e Life M': 8, 'Zafira-e Life S': 8, 'Zafira-e Life XL': 8,
    'ZS Essence': 7, 'ZS Excite': 6, 'ZS Excite Plus': 7, 'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 8,
    'ZS Excite': 8, 'ZS Excite ADAS': 7, 'ZS Excite Plus': 7, 'ZS Excite Plus ADAS': 7, 'ZS Essence': 8,
    'ZS Essence ADAS': 9, 'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 6, 'ZS Excite': 7, 'ZS Excite ADAS': 8,
    'ZS Excite Plus': 8, 'ZS Excite Plus ADAS': 9, 'ZS Essence': 7, 'ZS Essence ADAS': 6, 'ZS Essence Plus': 7,
    'ZS Essence Plus ADAS': 7, 'Zafira Life': 8, 'Zafira-e Life': 9, 'Zafira-e Life L': 7, 'Zafira-e Life M': 6,
    'Zafira-e Life S': 7, 'Zafira-e Life XL': 8, 'ZS Essence': 7, 'ZS Excite': 8, 'ZS Excite Plus': 7,
    'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 6, 'ZS Excite': 7, 'ZS Excite ADAS': 8, 'ZS Excite Plus': 8,
    'ZS Excite Plus ADAS': 7, 'ZS Essence': 9, 'ZS Essence ADAS': 7, 'ZS Essence Plus': 6, 'ZS Essence Plus ADAS': 7,
    'ZS Excite': 7, 'ZS Excite ADAS': 8, 'ZS Excite Plus': 7, 'ZS Excite Plus ADAS': 7, 'ZS Essence': 8,
    'ZS Essence ADAS': 9, 'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 6, 'ZS Excite': 7, 'ZS Excite ADAS': 8,
    'ZS Excite Plus': 8, 'ZS Excite Plus ADAS': 9, 'ZS Essence': 7, 'ZS Essence ADAS': 6, 'ZS Essence Plus': 7,
    'ZS Essence Plus ADAS': 7, 'Zafira Life': 8, 'Zafira-e Life': 9, 'Zafira-e Life L': 7, 'Zafira-e Life M': 6,
    'Zafira-e Life S': 7, 'Zafira-e Life XL': 8, 'ZS Essence': 7, 'ZS Excite': 8, 'ZS Excite Plus': 7,
    'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 6, 'ZS Excite': 7, 'ZS Excite ADAS': 8, 'ZS Excite Plus': 8,
    'ZS Excite Plus ADAS': 7, 'ZS Essence': 9, 'ZS Essence ADAS': 7, 'ZS Essence Plus': 6, 'ZS Essence Plus ADAS': 7,
    'ZS Excite': 7, 'ZS Excite ADAS': 8, 'ZS Excite Plus': 7, 'ZS Excite Plus ADAS': 7, 'ZS Essence': 8,
    'ZS Essence ADAS': 9, 'ZS Essence Plus': 7, 'ZS Essence Plus ADAS': 6, 'ZS Excite': 7, 'ZS Excite ADAS': 8,
    'ZS Excite Plus': 8, 'ZS Excite Plus ADAS': 9, 'ZS Essence': 7, 'ZS Essence ADAS': 6, 'ZS Essence Plus': 7,
    'ZS Essence Plus ADAS': 7, 'Zafira Life': 8, 'Zafira-e Life': 9, 'Zafira-e Life L': 7, 'Zafira-e Life M': 6,
    'Zafira-e Life S': 7, 'Zafira-e Life XL': 8
}

# this is what i want..

# model_mapping = {
#     54: "Hyundai i10", 55: "Hyundai Elantra CN 7", 56: "Hyundai Accent", 57: "Hyundai Creta S U",
#     58: "Opel Corsa", 59: "Opel Cross Land", 60: "Opel Mocha", 61: "Opel Grand Land", 62: "Opel Insignia",
#     63: "KIA Grand Cerato", 64: "KIA Exceed", 65: "KIA Sportage", 66: "KIA Sorento", 67: "KIA Picanto",
#     68: "DFSK Eagle", 69: "DFSK 330S", 70: "DFSK Eagle Pro",
#     71: "Fiat Tipo", 72: "Fiat 500", 73: "Fiat 500C", 74: "Fiat 500 X", 75: "Fiat Punto",
#     76: "Honda City", 77: "Honda Accord", 78: "Honda CRV", 79: "Honda Civic", 80: "Honda HRV", 81: "Honda ZRV",
#     82: "Chevrolet Optra", 83: "Chevrolet Captiva", 84: "Chevrolet Lanos",
#     85: "Mini Cooper", 86: "Mini Country Man", 87: "Mini Cooper S",
#     88: "Toyota Pelta", 89: "Toyota Romeon", 90: "Toyota Rush", 91: "Toyota Corolla", 92: "Toyota Yaris",
#     93: "Audi Q2", 94: "Audi A3", 95: "Audi Q3", 96: "Audi A4", 97: "Audi A5", 98: "Audi A6", 99: "Audi Q7", 100: "Audi Q8",
#     101: "Nissan Sunny", 102: "Nissan Juke", 103: "Nissan Qashqai", 104: "Nissan Sentra", 105: "Nissan Patrol",
#     106: "DS 3", 107: "DS 7", 108: "DS 4", 109: "DS 5",
#     110: "Renault Duster", 111: "Renault Logan", 112: "Renault Sandero", 113: "Renault Megane", 114: "Renault Ostral", 115: "Renault Kadjar",
#     116: "Jaguar XE", 117: "Jaguar F Pes", 118: "Jaguar XF", 119: "Jaguar F Tip", 120: "Jaguar X-Type",
#     121: "Mercedes C 180", 122: "Mercedes C 200", 123: "Mercedes A 200", 124: "Mercedes B 200", 125: "Mercedes CLA 200",
#     126: "Mercedes GLA", 127: "Mercedes GLC 200", 128: "Mercedes A Class", 129: "Mercedes E 200", 130: "Mercedes E 300",
#     131: "Mercedes S 500", 132: "Mercedes GLC 300", 133: "Mercedes GLE", 134: "Mercedes E 53", 135: "Mercedes G class", 136: "Mercedes S 450", 137: "Mercedes Maebach",
#     138: "Proton Saga", 139: "Proton Brief", 140: "Proton Gen 2", 141: "Proton Persota", 142: "Proton X90",
#     143: "Mitsubishi Atraj", 144: "Mitsubishi Mirage", 145: "Mitsubishi Expander", 146: "Mitsubishi Eclipse", 147: "Mitsubishi Lancer",
#     148: "Mitsubishi Shark", 149: "Mitsubishi Puma", 150: "Mitsubishi Pajero", 151: "Mitsubishi X force",
#     152: "BYD F3", 153: "BYD L3",
#     154: "MG MG 5", 155: "MG Zs", 156: "MG 6", 157: "MG RX", 158: "MG HS",
#     159: "BMW X2", 160: "BMW 218", 161: "BMW 118", 162: "BMW 218", 163: "BMW X1", 164: "BMW 320", 165: "BMW X1 M", 166: "BMW 520", 167: "BMW 420",
#     168: "BMW X3 M", 169: "BMW X3", 170: "BMW X5", 171: "BMW X6", 172: "BMW X7", 173: "BMW Series 7", 174: "BMW Series 6", 175: "BMW Series 8",
#     176: "Jetour X70", 177: "Jetour X95", 178: "Jetour Dashing", 179: "Jetour X90 Plus",
#     180: "Skoda Fabia", 181: "Skoda Scala", 182: "Skoda Camik", 183: "Skoda Octavia", 184: "Skoda Karok", 185: "Skoda Octavia", 186: "Skoda Superb", 187: "Skoda Kodiak", 188: "Skoda Superb", 189: "Skoda Kodiak",
#     190: "Jeep Renegade", 191: "Jeep Wrangler", 192: "Jeep Grand Cherouki", 193: "Jeep Comodo",
#     194: "Lip Motor T03", 195: "Lip Motor C11",
#     196: "Ford Echo", 197: "Ford Focus", 198: "Ford Kouga",
#     199: "Land Rover Discovery Sport", 200: "Land Rover Evok", 201: "Land Rover Defender", 202: "Land Rover Velar", 203: "Land Rover Discovery", 204: "Land Rover Range Rover", 205: "Land Rover Range Rover Sport", 206: "Land Rover Vouge",
#     207: "Changan L7", 208: "Changan Eida", 209: "Changan CS 15", 210: "Changan CS 55", 211: "Changan CS 35",
#     212: "Mazda Cx 3", 213: "Mazda 3", 214: "Mazda 2",
#     215: "Bestune T33", 216: "Bestune B70", 217: "Bestune T55", 218: "Bestune T77",
#     219: "Subaru Ambreza", 220: "Subaru XV", 221: "Subaru Forster",
#     222: "Seat Ibiza", 223: "Seat Arona", 224: "Seat Leyon", 225: "Seat Ateca", 226: "Seat Taraco",
#     227: "Jelly Col Ray", 228: "Jelly GX 3", 229: "Jelly Ocavango", 230: "Jelly Geometry C", 231: "Jelly M Grand 7",
#     232: "Citroen C Elizeh", 233: "Citroen C3", 234: "Citroen C3 Air Cross", 235: "Citroen C4", 236: "Citroen C4X", 237: "Citroen C5 Air Cross",
#     238: "Dong Feng Eulyos A", 239: "Dong Feng I 70", 240: "Dong Feng Finochia", 241: "Dong Feng I 30",
#     242: "KAIVI X3", 243: "KAIVI X3 Pro",
#     244: "JAC JS3", 245: "JAC JS4", 246: "JAC J7",
#     247: "Suzuki Alto", 248: "Suzuki Balino", 249: "Suzuki Espresso", 250: "Suzuki Selario", 251: "Suzuki Swift", 252: "Suzuki Jemini",
#     253: "Lada Granta",
#     254: "Alfa Romeo Gulietta", 255: "Alfa Romeo Julia", 256: "Alfa Romeo Stelvio",
#     257: "Peugeot 301", 258: "Peugeot 2008", 259: "Peugeot 508", 260: "Peugeot 3008", 261: "Peugeot 408", 262: "Peugeot 5008", 263: "Peugeot 406", 264: "Peugeot 207",
#     265: "Cupra Formentor", 266: "Cupra Leyon",
#     267: "Volvo V60", 268: "Volvo XC 40", 269: "Volvo XC60", 270: "Volvo XC90", 271: "Volvo S60", 272: "Volvo V50", 273: "Volvo 760",
#     274: "Sang Yong Tivoli",
#     275: "Chery Arizo 5", 276: "Chery Tigo 7", 277: "Chery Tigo 3", 278: "Chery Tigo 8",
#     279: "Forthing T 5",
#     280: "Volkswagen T Roc", 281: "Volkswagen Golf", 282: "Volkswagen Passat", 283: "Volkswagen Tiguan", 284: "Volkswagen Tawareg",
#     285: "Lexus ES 350", 286: "Lexus RX", 287: "Lexus LS 500", 288: "Lexus Lx 570", 289: "Lexus 6",
#     290: "Aston Martin Fantag Roasdstar", 291: "Aston Martin DB 12", 292: "Aston Martin Valor", 293: "Aston Martin DBX 707",
#     294: "Payek X5", 295: "Payek X3", 296: "Payek X7",
#     297: "Haval Julian", 298: "Haval H6",
#     299: "Sawaist DX50", 300: "Sawaist Dx3", 301: "Sawaist A5", 302: "Sawaist DX7", 303: "Sawaist DX8",
#     304: "Massarati Jebly", 305: "Massarati Levanti", 306: "Massarati Quatroporti", 307: "Massarati Grekali", 308: "Massarati Gran Turismo Folgore", 309: "Massarati MC20 Cielo",
#     310: "Porsche Cayenne", 311: "Porsche 911", 312: "Porsche Macan", 313: "Porsche Boxter", 314: "Porsche Taycan", 315: "Porsche Cayman",
# }


make_deduction_percentage = {
    'Hyundai': 6, 'Opel': 7, 'KIA': 5, 'DFSK': 8, 'Fiat': 8,
    'Honda': 9, 'Chevorlet': 6, 'Mini': 10, 'Toyota': 8, 'Audi': 8,
    'Nissan': 6, 'DS': 7, 'Renault': 8, 'Jaguar': 7, 'Mercedes': 7,
    'Proton': 8, 'Mitsubishi': 9, 'BYD': 7, 'MG': 6, 'Porsche': 5,
    'BMW': 6, 'Jetour': 7, 'Scoda': 8, 'Jeep': 7, 'Lip Motor': 7,
    'Ford': 8, 'Land Rover': 9, 'Changan': 7, 'Mazda': 8, 'Bestune': 9,
    'Subaro': 6, 'Seyat': 8, 'Jelly': 9, 'Citroen': 10, 'Dong Feng': 8,
    'KAIVI': 8, 'JAC': 9, 'Suzuki': 7, 'Lada': 8, 'Alfa Romeo': 7,
    'Peugeot': 9, 'Cupra': 7, 'Volvo': 9, 'Sang Yong': 10, 'Cherry': 8,
    'Forthing': 8, 'Volkswagen': 9, 'Lexus': 7, 'Aston Martin': 8,
    'Payek': 9, 'Haval': 6, 'Sawaist': 8, 'Massarati': 9,
}


category_deduction_percentage = {
    # Category
    '1': 10,
    '2': 20,

    # Subcategories
    '1A': 7, '2A': 13.34, '3A': 20,
    '1B': 5, '2B': 10, '3B': 15, '4B': 20,
    '1C': 4, '2C': 8, '3C': 12, '4C': 16, '5C': 20,
    '1D': 3.33, '2D': 6.66, '3D': 9.99, '4D': 13.32, '5D': 16.65, '6D': 20.00,
    '1E': 2.86, '2E': 5.71, '3E': 8.57, '4E': 11.43, '5E': 14.29, '6E': 17.14, '7E': 20.00,
}



def mileage_deduction(used_car):
    mileage_amount=used_car.price
    if used_car.mileage <= 50000:
        x= (0.10 * mileage_amount)
        print(f"mileage amount = {x}"  )
        return 0.10 * mileage_amount
    elif 50000 < used_car.mileage <= 100000:
        # x= (0.20 * mileage_amount)
        # print(f"mileage amount = {x}"  )
        
        return 0.20 * mileage_amount
    elif 100000 < used_car.mileage <= 200000:
       
        return 0.25 * mileage_amount
    else:
       
        return 0.30 * mileage_amount



def year_deduction(used_car):
    year_amount=used_car.price
    if used_car.year == 2023:
        return 0.03 * year_amount
    elif 2020 <= used_car.year <= 2022:
        y=(0.05 * year_amount)
        print(f"year amount = {y}"  )
        
        return 0.05 * year_amount
    elif 2017 <= used_car.year <= 2019:
        return 0.08 * year_amount
    elif 2013 <= used_car.year <= 2016:
        return 0.10 * year_amount
    elif 2009 <= used_car.year <= 2012:
        return 0.14 * year_amount
    elif 2005 <= used_car.year <= 2008:
        return 0.17 * year_amount
    else:
        return 0.20 * year_amount


def make_amount(used_car):

    # make_deduction_percentage = {
    #     1: 6, 2: 7, 3: 5, 4: 8, 5: 8, 6: 9, 7: 6, 8: 10, 9: 8, 10: 8,
    #     11: 6, 12: 7, 13: 8, 14: 7, 15: 7, 16: 8, 17: 8, 18: 6, 19: 9, 20: 7,
    #     21: 6, 22: 8, 23: 7, 24: 8, 25: 8, 26: 7, 27: 6, 28: 5, 29: 6, 30: 7,
    #     31: 8, 32: 4, 33: 5, 34: 7, 35: 8, 36: 9, 37: 10, 38: 8, 39: 8, 40: 9,
    #     41: 7, 42: 8, 43: 9, 44: 6, 45: 8, 46: 9, 47: 10, 48: 7, 49: 8, 50: 7,
    #     51: 9, 52: 7, 53: 9
    # }
  
    make_percentage = make_deduction_percentage.get(used_car.make, 0)
    make_amount = used_car.price * make_percentage / 100
    print(f"make amount={make_amount}" )
    

    return make_amount




def category_amount(used_car):

    category_percentage = category_deduction_percentage.get(used_car.category, 0)
    category_amount = used_car.price * category_percentage / 100
    
    print(f"category amount = {category_amount}"  )
    return category_amount
    
    
def model_deduction(used_car):
#     model_deduction_percentage = {
#     118: 6, 119: 7, 120: 7, 121: 8, 122: 8, 123: 9, 124: 9, 125: 7, 126: 8, 127: 6,
#     128: 7, 129: 8, 130: 7, 131: 7, 132: 8, 133: 8, 134: 6, 135: 9, 136: 7, 137: 6,
#     138: 8, 139: 7, 140: 8, 141: 8, 142: 7, 143: 6, 144: 5, 145: 6, 146: 7, 147: 8,
#     148: 4, 149: 5, 150: 7, 151: 8, 152: 9, 153: 7, 154: 8, 155: 8, 156: 8, 157: 7,
#     158: 8, 159: 7, 160: 6, 161: 8, 162: 8, 163: 10, 164: 7, 165: 8, 166: 7, 167: 9,
#     168: 7, 169: 9, 170: 6, 171: 7, 172: 7, 173: 8, 174: 8, 175: 9, 176: 9, 177: 10,
#     178: 8, 179: 3, 180: 6, 181: 6, 182: 7, 183: 7, 184: 8, 185: 8, 186: 9, 187: 9,
#     188: 7, 189: 8, 190: 6, 191: 7, 192: 8, 193: 8, 194: 7, 195: 7, 196: 8, 197: 8,
#     198: 6, 199: 9, 200: 7, 201: 6, 202: 8, 203: 7, 204: 8, 205: 8, 206: 7, 207: 6,
#     208: 5, 209: 6, 210: 7, 211: 8, 212: 4, 213: 5, 214: 7, 215: 8, 216: 9, 217: 10,
#     218: 8, 219: 8, 220: 9, 221: 7, 222: 8, 223: 9, 224: 6, 225: 8, 226: 9, 227: 10,
#     228: 7, 229: 8, 230: 7, 231: 9, 232: 7, 233: 9, 234: 6, 235: 7, 236: 7, 237: 8,
#     238: 8, 239: 9, 240: 9, 241: 7, 242: 8, 243: 3, 244: 6, 245: 7, 246: 7, 247: 8,
#     248: 8, 249: 9, 250: 9, 251: 8, 252: 8, 253: 8, 254: 6, 255: 7, 256: 7, 257: 8,
#     258: 7, 259: 7, 260: 8, 261: 8, 262: 6, 263: 9, 264: 7, 265: 6, 266: 7, 267: 7, 268: 8, 269: 8, 270: 9, 271: 7, 272: 6, 273: 5,
#     274: 7, 275: 8, 276: 4, 277: 5, 278: 7, 279: 8, 280: 9, 281: 7, 282: 8,
#     283: 8, 284: 9, 285: 7, 286: 8, 287: 9, 288: 6, 289: 8, 290: 9, 291: 7,
#     292: 7, 293: 8, 294: 7, 295: 9, 296: 7, 297: 9, 298: 6, 299: 7, 300: 7,
#     301: 8, 302: 8, 303: 9, 304: 9, 305: 10, 306: 8, 307: 3, 308: 6, 309: 6,
#     310: 7, 311: 7, 312: 8, 313: 8, 314: 9, 315: 9,
    
# }  
  
    deduction_percentage = model_deduction_percentage.get(used_car.model, 0)
    model_amount = used_car.price * deduction_percentage / 100
    return model_amount





# def predict_price(used_car):
#     # Initial price
#     calculated_price = used_car.price

#     # Deduct based on the year of the car
#     year_deduction_amount = year_deduction(calculated_price, used_car.year)
#     calculated_price -= year_deduction_amount

#     # Deduct based on the mileage of the car
#     mileage_deduction_amount = mileage_deduction(calculated_price, used_car.mileage)
#     calculated_price -= mileage_deduction_amount

#     return calculated_price


def calculate_final_price(used_car):
    # Get deduction amounts from individual functions
    make_amount_va = make_amount(used_car)
    model_amount = model_deduction(used_car)
    year_amount = year_deduction(used_car)
    mileage_amount = mileage_deduction(used_car)
    category_amount_va = category_amount(used_car)
    Economic_Factors = (used_car.price * 0.407  )-(used_car.price * 0.10)
    print(f"Economic_Factors= {Economic_Factors}")
    
    calculated_price = round(
    used_car.price + make_amount_va + model_amount + category_amount_va -
    year_amount - mileage_amount -
    Economic_Factors, 0
)

    return calculated_price
